<!DOCTYPE html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>
    <form class="form" id="myForm">
        <input type="file" id="myFile">
        <input type="submit">
    </form>

    <script>
        const myForm = document.getElementById("myForm");
        const myFile = document.getElementById("myFile");

        myForm.addEventListener("submit", e=> {
            var formData = new FormData($("#myForm")[0]);
            formData.append("file", myFile.files[0])
            jQuery.ajax({
                url: 'http://localhost:8080/addrecipient',
                type: "POST",
                data: formData,
                success: function(data) {
                    alert( 'WORKED.' )
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    //Remove quotes:
                    error = jqXHR.responseText.replace(/\"/g, "");
                    
                    console.log("error: " + error);
                    console.log("textStatus: ") + textStatus;
                    console.log("errorThrown: " + errorThrown);
                },
                cache: false,
                contentType: false,
                processData: false,
            });

        });
    </script>
</body>