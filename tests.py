import unittest
from sqlconnector import SQLConnector

from pathlib import Path
import sqlite3

from sqlconnector import Recipient


class TestSQLConnectorMethods(unittest.TestCase):

    def setUp(self):
        #Runs each time before a test
        self.sqlconn = SQLConnector(testing_mode=True)
    
    def test_db_creation(self):
        #Check the db exists and has nothing in it
        test_db_file = Path("TestingDB.db")
        self.assertTrue(test_db_file.is_file())

        connection = sqlite3.connect("TestingDB.db") 
        crsr = connection.cursor()

        crsr.execute(f"SELECT * FROM organizations")
        query_result = crsr.fetchall()
        self.assertEqual(len(query_result), 0)


    def test_add_recipient(self):
        pass
    def test_get_organization(self):
        pass
    def test_get_clicks(self):
        pass
    def test_add_clicks(self):
        pass
if __name__ == "__main__":
    unittest.main()